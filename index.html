<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description"
    content="CardRobots is a card game which allows you to program a robot and then fight real battles against other players.">
  <title>CardRobots</title>
  <link rel="stylesheet" href="css/pure/pure-min.css">
  <link rel="stylesheet" href="css/pure/grids-responsive-min.css">
  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap">
  <link rel="stylesheet" href="css/styles.css">

  <script src="https://unpkg.com/konva@7.0.6/konva.min.js"></script>
  <script src="index.js" type="module"></script>
</head>

<body onload="initStage()">
  <div class="splash-container">
    <div class="splash">
      <h1 class="splash-head">
        CardRobots
      </h1>
      <p class="splash-subhead">
        CardRobots is a board game which allows you to program a robot using simple cards and then fight battles
        against other robots (using a smartphone).
      </p>
      <div class="video">
        <iframe
          src="https://www.youtube.com/embed/OCWj5xgu5Ng?version=3&amp;rel=0&amp;controls=1&amp;showinfo=0&amp;autoplay=0&amp;mute=0&amp;loop=0"
          frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
      </div>
      <p>
        <a href="#start" class="pure-button pure-button-primary">Start playing</a>
        <a href="#rules" class="pure-button pure-button-primary">Rules</a>
        <a href="#examples" class="pure-button pure-button-primary">Examples</a>
      </p>
      <p>
        <a href="#simulator" class="pure-button pure-button-primary" style="font-size:150%">Simulator</a>
      </p>
    </div>
  </div>

  <div class="content-wrapper">

    <div class="content">
      <h2 id="start" class="content-head is-center">Start playing</h2>
      <p>To start playing <strong>CardRobots</strong> you need to print and cut the playing cards which you can
        download here. The playing board (optional) can be used to test the robots movements on your table before uploading it to the simulator.</p>
      <p class="is-center">
        <a class="pure-button pure-button-primary" href="assets/cards1.pdf" target="_blank"><i
            class="fa fa-download"></i> Cards 1 (.pdf)</a>
        <a class="pure-button pure-button-primary" href="assets/cards2.pdf" target="_blank"><i
            class="fa fa-download"></i> Cards 2 (.pdf)</a>
        <a class="pure-button pure-button-primary" href="assets/board.pdf" target="_blank"><i
            class="fa fa-download"></i> Playing board and robot tokens (.pdf)</a>
      </p>
      <p>
        As soon as you have your own playing cards try to program a simple bot (following the <a
          href="#rules">rules</a>), take a picture of it and upload it into the <a href="#simulator">simulator</a>.
      </p>
    </div>
    <div class="content">
      <h2 id="rules" class="content-head is-center">Rules</h2>
      <p>The goal of the game is to program a robot which is able to survive in a simulated arena. The robot has
        certain sensors which he uses to decide what action to perform each turn. </p>

      <h3>Basic rules</h3>
      <ul>
        <li>The playing board consists of 5x5 squares. At the beginning of the game the participating robots are
          positioned and orientated randomly.</li>
        <li>Each robot has 5 life points at the beginning. As soon a he reaches 0 life points he is removed from the
          game.</li>
        <li>Using his programmed logic each turn the robot decides what action he wants to perform.</li>
      </ul>
      <h3>How the robots decide what action to perform</h3>
      <ul>
        <li>
          Each robot starts with his topmost card and checks the condition on the card. Depending on the outcome it will
          continue with the card below on left or right.
          It does so repeatedly until it reaches an <b>action card</b> which determines which action to take.
          Depending where the robots are standing on the board each turn different decisions are taken.
        </li>
      </ul>
      <h4>Example</h4>
      <p>Lets assume the blue robot has the programmed logic on the right. It first checks if it can directly see
        another robot in front of him. The answer is NO, so it continues to the next card on the right. This card checks
        if it is at distance 1 of the edge of the board and here the answer is YES. So it continues with the next card
        on the left which is an action card TURN LEFT and thats the action he is going to perform.</p>
      <div class="pure-g">
        <div class="pure-u-1-2">
          <img src="assets/example_board.jpg" class="pure-img" />
        </div>
        <div class="pure-u-1-2">
          <img src="assets/example_bot.jpg" class="pure-img" />
        </div>
      </div>

      <h3>Types of cards</h3>

      <h4>Condition cards</h4>
      <p>Condition cards are the basic building blocks for your robot. Each of them checks a sensor of the robot and can
        return <b>yes</b> or <b>no</b> depending on your robots situation in the game. Some condition cards have an
        empty space on them. It is used to add a <b>number card</b> to define
        how the condition works.</p>

      

      <div class="pure-g">
        <div class="pure-u-1-4"><img class="pure-img" src="assets/card_enemycheck.jpg" /></div>
        <div class="pure-u-3-4">Is there another robot in front and at which distance? If it is equal to one of the numbers displayed on
          the number card - continue left otherwise continue right.</div>
      </div>
      <div class="pure-g">
        <div class="pure-u-1-4"><img class="pure-img" src="assets/card_heartcheck.jpg" /></div>
        <div class="pure-u-3-4">How many life points does the robot have left? If it is equal to one of the numbers displayed on the
          number card - continue left otherwise continue right.</div>
      </div>
      <div class="pure-g">
        <div class="pure-u-1-4"><img class="pure-img" src="assets/card_wallcheck.jpg" /></div>
        <div class="pure-u-3-4">The distance to the edge of the board is measured. If it is equal to one of the numbers displayed on the
            number card - continue left otherwise continue right.</div>
      </div>
      <div class="pure-g">
        <div class="pure-u-1-4"><img class="pure-img" src="assets/card_alertcheck.jpg" /></div>
        <div class="pure-u-3-4">Checks if the robot could be attacked by another robot (is in shooting distance).</div>
      </div>
      <div class="pure-g">
        <div class="pure-u-1-4"><img class="pure-img" src="assets/card_directviewcheck.jpg" /></div>
        <div class="pure-u-3-4">Checks if another robot is in front of this robot and looking directly towards it.</div>
      </div>
      <div class="pure-g">
        <div class="pure-u-1-4"><img class="pure-img" src="assets/card_random.jpg" /></div>
        <div class="pure-u-3-4">When the random card is used each time a coin is flipped and depending on the outcome it continues left otherwise right.</div>
      </div>

      <h4>Number cards</h4>
      <p>Number cards are used on top of some condition cards to define how the condition is evaluated. There are many
        different combinations of numbers.</p>
      <img src="assets/card_numbers.jpg" class="pure-img">

      <h4>Action cards</h4>
      <p>Action cards are used at the end to decide what action the robot will execute.</p>

      <div class="pure-g">
        <div class="pure-u-1-8"><img class="pure-img" src="assets/card_goahead.jpg" /></div>
        <div class="pure-u-7-8">Move one step ahead.</div>
      </div>
      <div class="pure-g">
        <div class="pure-u-1-8"><img class="pure-img" src="assets/card_goleft.jpg" /></div>
        <div class="pure-u-7-8">Move one step left.</div>
      </div>
      <div class="pure-g">
        <div class="pure-u-1-8"><img class="pure-img" src="assets/card_goright.jpg" /></div>
        <div class="pure-u-7-8">Move one step right.</div>
      </div>
      <div class="pure-g">
        <div class="pure-u-1-8"><img class="pure-img" src="assets/card_goback.jpg" /></div>
        <div class="pure-u-7-8">Move one step backwards.</div>
      </div>
      <div class="pure-g">
        <div class="pure-u-1-8"><img class="pure-img" src="assets/card_turnleft.jpg" /></div>
        <div class="pure-u-7-8">Turn left staying in the same position.</div>
      </div>
      <div class="pure-g">
        <div class="pure-u-1-8"><img class="pure-img" src="assets/card_turnright.jpg" /></div>
        <div class="pure-u-7-8">Turn right staying in the same position.</div>
      </div>
      <div class="pure-g">
        <div class="pure-u-1-8"><img class="pure-img" src="assets/card_attack.jpg" /></div>
        <div class="pure-u-7-8">Attack robot in front (does 3 damage if there is a another robot 1 position away, 2 damage if 2 positions
          away, 1 damage if 3 positions away).</div>
      </div>
      <div class="pure-g">
        <div class="pure-u-1-8"><img class="pure-img" src="assets/card_nothing.jpg" /></div>
        <div class="pure-u-7-8">Do nothing (this recovers 1 life point).</div>
      </div>

      <h3>Special cases</h3>
      <ul>
        <li>Attack actions are always excecuted AFTER movements, so it is possible to escape an attack.</li>
        <li>If a robot decide to walk onto and occupied space or outside the game board - he looses 1 life point</li>
        <li>If two (or more) robots decide to walk onto the same space - Both loose 1 life point</li>
      </ul>
    </div>

    <div class="content is-center">
      <h2 id="examples" class="content-head">Examples</h2>

      <div class="pure-g">
        <div class="l-box pure-u-1 pure-u-md-1-2 pure-u-lg-1-4">
          <h3 class="content-subhead">
            Basic bot
          </h3>
          <img src="bots/simple.jpg" class="pure-img" />
          <p>If the robot is standing on the edge of the board (distance 1 to the edge) turn right otherwise go ahead.
          </p>
        </div>
        <div class="l-box pure-u-1 pure-u-md-1-2 pure-u-lg-1-4">
          <h3 class="content-subhead">
            Simple bot
          </h3>
          <img src="bots/basic.jpg" class="pure-img" />
          <p>
            If enemy is visible and at 1, 2 or 3 distance, attack, otherwise if player is under attack move to the right
            or
            left (with a probability of 50%), if player is standing on the edge of the board turn left otherwise go
            ahead.
          </p>
        </div>
        <div class="l-box pure-u-1 pure-u-md-1-2 pure-u-lg-1-4">
          <h3 class="content-subhead">
            Advanced bot
          </h3>
          <img src="bots/advanced.jpg" class="pure-img" />
          <p>
            Bot using even more advanced strategy.
          </p>
        </div>
        <div class="l-box pure-u-1 pure-u-md-1-2 pure-u-lg-1-4">
          <h3 class="content-subhead">
            (Almost) complete bot
          </h3>
          <img src="bots/complete.jpg" class="pure-img" />
          <p>
            Bot using a more complete strategy using almost all available cards
          </p>
        </div>
      </div>
    </div>

    <div class="content is-center">
      <h2 id="simulator" class="content-head">Simulator</h2>

      <p>Here you can upload your robot program and test it against other robots. If there is a problem with your
        program (if your program doesn't follow the rules or if the picture can not be read it will tell you what the
        problems could be)</p>

      <div class="pure-g">
        <div class="pure-u-1 pure-u-md-1-2">
          <h3>Player 1</h3>
          <p>
            <label for="tree1" style="background-color:blue" class="button-xlarge pure-button pure-button-primary"><i class="fa fa-camera"></i> Take Image and Process</label>
            <input id="tree1" style="display: none;" class="tree1" type="file" accept="image/*" capture="camera" onchange="loadFile(event)">
          </p>
          <p>or
            <select class="tree1" onchange="loadFile(event)">
              <option value="">choose example bot</option>
              <option value="bots/simple.jpg">Example 1</option>
              <option value="bots/basic.jpg">Example 2</option>
              <option value="bots/advanced.jpg">Example 3</option>
              <option value="bots/complete.jpg">Example 4</option>
            </select>
          </p>
          <div id="errortree1"></div>
          <div id="debugtree1" style="width: 100%;"></div>
        </div>
        <div class="pure-u-1 pure-u-md-1-2">
          <h3>Player 2</h3>
          <p>
            <label for="tree2" style="background-color:red" class="button-xlarge pure-button pure-button-primary"><i class="fa fa-camera"></i> Take Image and Process</label>
            <input id="tree2" style="display: none;" class="tree2" type="file" accept="image/*" capture="camera" onchange="loadFile(event)">
          </p>
          <p>or
            <select class="tree2" onchange="loadFile(event)">
              <option value="">choose example bot</option>
              <option value="bots/simple.jpg">Example 1</option>
              <option value="bots/basic.jpg">Example 2</option>
              <option value="bots/advanced.jpg">Example 3</option>
              <option value="bots/complete.jpg">Example 4</option>
            </select>
          </p>
          <div id="errortree2"></div>
          <div id="debugtree2" style="width: 100%;"></div>
        </div>
      </div>

      <div id="simulation-wrapper" style="width: 100%; max-width: 500px; margin: auto;">
        <button class="pure-button pure-button-primary" onclick="initSimulation()">New Game</button>
        <button class="pure-button pure-button-primary" onclick="startSimulation()">Start</button>
        <button class="pure-button pure-button-primary" onclick="stopSimulation()">Pause</button>
        <div id="simulation" style="width: 100%; margin-top: 20px;">
        </div>
      </div>

      <h3>Statistics</h3>
      <p>After running 1000 simulated games the following statistics were determined</p>
      <table class="pure-table" style="display: inline-block;">
        <thead>
          <tr>
            <th>Player 1 WINS</th>
            <th>DRAWS</th>
            <th>Player 2 WINS</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td id="stats_win1"></td>
            <td id="stats_draw"></td>
            <td id="stats_win2"></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</body>

</html>